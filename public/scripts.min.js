/**
 * Cookies
 *
 * Cookie is used for redirecting the user to the last used login
 */// Redirect to login choice.
function redirectToLogin(){$.cookie("cookie_redirect")!==undefined&&window.location.replace($.cookie("cookie_redirect")+window.location.search)}function checkLoginChoice(){var e=$.cookie("cookie_redirect")!==undefined;$(".js-delete-login-choice").toggleClass("is-visible",e);$(".js-save-login-choice").toggleClass("is-visible",!e)}function showHidePassword(){if(document.documentMode<9)return;$('input[type="password"]').hideShowPassword({show:!1,innerToggle:!0,toggleClass:"form--toggle-password",states:{shown:{toggleText:translationStrings.toogleText.hide},hidden:{toggleText:translationStrings.toogleText.show}}})}function showLoginMessage(e){$(".js-save-login-message").html(e).addClass("message--success").show().delay(5e3).fadeOut(500)}function useOtherSubmitUrl(){$("form").submit(function(e){if(!$("form").h5Validate("allValid"))return!1;e.preventDefault();var t=$(this),n=t.attr("action").replace("/action/","/=/logon/"),r=t.serializeArray(),i=$(".button",t),s=i.val();i.prop("disabled",!0);i.val(translationStrings.buttonLoadingText);$.post(n,r,"json").done(function(e){e.authenticated&&e.redirect&&window.location.replace(e.redirect)}).fail(function(e){var t=e.responseJSON.message?e.responseJSON.message:translationStrings.missingValues;$(".js-message").html(t).addClass("message--error")}).always(function(){i.prop("disabled",!1);i.val(s);$("#username").focus()})})}var translationsStrings={};$(document).ready(function(){$("form").h5Validate();translationStrings=$.cookie("tidyLanguage")==="en"?{toogleText:{hide:"Hide",show:"Show"},deleteAllCookies:"Cookies deleted",loginSaved:"You will be redirected to this page the next time you login.",loginDeleted:"You will no longer be redirected to this page.",missingValues:"Please enter username and password.",buttonLoadingText:"Logging in..."}:{toogleText:{hide:"Skjul",show:"Vis"},deleteAllCookies:"Cookies blev slettet",loginSaved:"Du vil blive viderestillet til denne side næste gang du logger ind.",loginDeleted:"Du vil ikke længere blive viderestillet til denne side.",missingValues:"Udfyld venligst begge felter.",buttonLoadingText:"Logger ind..."};showHidePassword();checkLoginChoice();$(".js-save-login-choice").click(function(){$.cookie("cookie_redirect",window.location.pathname,{expires:30,path:"/"});checkLoginChoice();showLoginMessage(translationStrings.loginSaved);return!1});$(".js-delete-login-choice").click(function(){$.removeCookie("cookie_redirect",{path:"/"});checkLoginChoice();showLoginMessage(translationStrings.loginDeleted);return!1});history.length==1?$("body").addClass("back-link-hidden"):$(".js-toplink").click(function(){history.back(1);return!1});$(".js-message").length&&useOtherSubmitUrl();navigator.javaEnabled()||$(".js-javaenabled").hide()});